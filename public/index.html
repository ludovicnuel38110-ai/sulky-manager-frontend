<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>SULKY-BET</title>
<link rel="stylesheet" href="style.css">

<!-- =================================================
   AUTO REDIRECT SI CONNECTÉ
================================================= -->
<script>
const tokenCheck = localStorage.getItem("token");

if (tokenCheck) {
  fetch("https://sulky-manager-backend.onrender.com/api/users/me", {
    headers:{ Authorization:"Bearer "+tokenCheck }
  })
  .then(r=>{
    if(r.ok) window.location.href="dashboard.html";
  })
  .catch(()=>{});
}
</script>


<style>

/* =================================================
   THEME PRO BLEU / VERT (BOOKMAKER STYLE)
================================================= */

body{
  background:
    linear-gradient(rgba(0,0,0,.75), rgba(0,0,0,.85)),
    url("images/bg.jpg");

  background-size:cover;
  background-position:center;
  background-attachment:fixed;

  font-family:"Segoe UI", system-ui, sans-serif;
  color:#e9fff8;
}


/* =================================================
   HEADER
================================================= */

.main-header{
  background:linear-gradient(90deg,#001a14,#002b24);
  border-bottom:2px solid #00e5a0;

  padding:22px 40px;

  display:flex;
  justify-content:space-between;
  align-items:center;
}

.header-text h1{
  font-size:40px;
  letter-spacing:2px;
  color:#00e5a0;
}

.header-text p{
  font-size:14px;
  opacity:.75;
}

.header-actions button{
  margin-left:10px;
}


/* =================================================
   NAV PRO
================================================= */

nav{
  display:flex;
  justify-content:center;
  gap:20px;

  padding:14px;
  background:#001712;

  border-bottom:1px solid rgba(0,229,160,.3);
}

nav button{
  background:transparent;
  border:1px solid #00e5a0;
  color:#00e5a0;
  padding:8px 18px;
  border-radius:8px;
  cursor:pointer;
  transition:.2s;
}

nav button:hover{
  background:#00e5a0;
  color:#001712;
}


/* =================================================
   SECTIONS
================================================= */

.section{
  max-width:1200px;
  margin:60px auto;
  padding:40px;
}


/* =================================================
   HERO / INTRO
================================================= */

.intro-section{
  background:rgba(0,40,32,.85);
  backdrop-filter:blur(12px);

  border-radius:22px;
  border:1px solid rgba(0,229,160,.4);

  box-shadow:0 0 50px rgba(0,229,160,.15);
}

.intro-section h2{
  font-size:34px;
  margin-bottom:20px;
  color:#00e5a0;
}

.intro-text{
  font-size:17px;
  line-height:1.6;
  opacity:.95;
}


/* =================================================
   FEATURES CARDS PRO
================================================= */

.intro-features{
  margin-top:35px;

  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
}

.intro-box{
  background:rgba(0,0,0,.45);
  padding:22px;
  border-radius:16px;

  border:1px solid rgba(0,229,160,.25);

  font-size:15px;
  line-height:1.5;
}


/* =================================================
   MESSAGE OFFICIEL
================================================= */

.welcome-box{
  margin-top:35px;
  background:#001e18;
  padding:28px;
  border-radius:14px;

  font-size:15px;
  line-height:1.7;
  opacity:.9;
}


/* =================================================
   CTA BUTTON
================================================= */

.cta-btn{
  margin-top:30px;
  padding:14px 30px;

  font-weight:bold;
  font-size:16px;

  border:none;
  border-radius:12px;

  background:linear-gradient(135deg,#00e5a0,#00b07d);
  color:#001712;

  cursor:pointer;
}


/* =================================================
   COURSES SECTION
================================================= */

.course{
  margin-top:25px;

  background:#001f19;
  padding:25px;
  border-radius:14px;

  display:flex;
  justify-content:space-between;
  align-items:center;
}

.bet-btn{
  padding:10px 22px;
  background:#00e5a0;
  border:none;
  border-radius:10px;
  cursor:pointer;
}


/* =================================================
   LOADER
================================================= */

#loader{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

.spinner{
  width:40px;
  height:40px;
  border:4px solid #003;
  border-top:4px solid #00e5a0;
  border-radius:50%;
  animation:spin 1s linear infinite;
}

@keyframes spin{
  to{ transform:rotate(360deg); }
}

</style>

</head>

<body>



<!-- =================================================
   LOADER
================================================= -->
<div id="loader">
  <div class="spinner"></div>
  <p>Connexion au serveur Sulky-Bet...</p>
</div>



<!-- =================================================
   HEADER
================================================= -->
<header class="main-header">

  <div class="header-text">
    <h1>SULKY-BET</h1>
    <p>Plateforme de paris hippiques</p>
  </div>

  <div id="authZone" class="header-actions"></div>

</header>



<!-- =================================================
   NAVIGATION
================================================= -->
<nav>
  <button onclick="scrollToSection('courses')">Courses</button>
  <button onclick="scrollToSection('ranking')">Classement</button>
  <button onclick="scrollToSection('news')">Actualités</button>
  <a href="aide.html"><button>Aide</button></a>
</nav>



<!-- =================================================
   INTRO PRO
================================================= -->
<div class="section intro-section">

  <h2>Bienvenue sur Sulky-Bet</h2>

  <p class="intro-text">
    Sulky-Bet est une plateforme de paris hippiques indépendante.
    Accédez aux courses, placez vos paris et suivez vos performances en temps réel
    dans un environnement simple, rapide et sécurisé.
    Placez vos paris, suivez vos performances et gérez votre solde en toute simplicité. 
    Pour créditer ton compte, contacte-moi sur Sulkyland au pseudo Turfiste83 
    Je reverserai les fonds le plus rapidement possible afin que tu puisses jouer. ✅
    Les paris sont enregistrés automatiquement sur ton compte. Plus besoin d’envoyer de message ou de don.
  </p>


  <div class="intro-features">

    <div class="intro-box">
      <b>Paris sur les courses</b><br>
      Programmes officiels, cotes dynamiques et validation rapide.
    </div>

    <div class="intro-box">
      <b>Gestion du solde</b><br>
      Dépôts, crédits et suivi des gains en temps réel.
    </div>

    <div class="intro-box">
      <b>Classement des joueurs</b><br>
      Comparez vos performances et progressez dans le classement.
    </div>

  </div>


  <div class="welcome-box">
    Sulky-Bet est un projet indépendant et autodidacte.  
    Sulkyland ne gère pas le site et ne peut intervenir ou être tenu responsable en cas de problème technique.  
    Pour toute question ou assistance, contactez directement l’administrateur.
  </div>


  <a href="register.html">
    <button class="cta-btn">Créer un compte</button>
  </a>

</div>



<!-- ================= PROCHAINES REUNIONS ================= -->

<div class="section schedule-section" id="courses">

  <h2 class="section-title">Prochaines réunions</h2>

  <div class="schedule-grid">

    <div class="race-card">
      <div class="race-info">
        <div class="race-date">Dim. 8 Févr.</div>
        <div class="race-track">R1 – Vincennes</div>
      </div>
      <a href="login.html" class="race-btn">Voir les courses</a>
    </div>

    <div class="race-card">
      <div class="race-info">
        <div class="race-date">Lun. 9 Févr.</div>
        <div class="race-track">R1 – Cagnes-sur-Mer</div>
      </div>
      <a href="login.html" class="race-btn">Voir les courses</a>
    </div>

    <div class="race-card">
      <div class="race-info">
        <div class="race-date">Mar. 10 Févr.</div>
        <div class="race-track">R1 – Vincennes</div>
      </div>
      <a href="login.html" class="race-btn">Voir les courses</a>
    </div>

    <div class="race-card">
      <div class="race-info">
        <div class="race-date">Mer. 11 Févr.</div>
        <div class="race-track">R4 – Lyon La Soie</div>
      </div>
      <a href="login.html" class="race-btn">Voir les courses</a>
    </div>

    <div class="race-card">
      <div class="race-info">
        <div class="race-date">Jeu. 12 Févr.</div>
        <div class="race-track">R2 – Angers</div>
      </div>
      <a href="login.html" class="race-btn">Voir les courses</a>
    </div>

  </div>

</div>

    <a href="login.html">
      <button class="bet-btn">Se connecter pour parier</button>
    </a>
  </div>

</div>



<!-- =================================================
   SCRIPT
================================================= -->
<script>

function scrollToSection(id){
  document.getElementById(id).scrollIntoView({ behavior:"smooth" });
}

const authZone = document.getElementById("authZone");
const token = localStorage.getItem("token");
const pseudo = localStorage.getItem("pseudo");
const balance = localStorage.getItem("balance") || 0;

if (!token) {
  authZone.innerHTML = `
    <a href="login.html"><button>Connexion</button></a>
    <a href="register.html"><button>Créer un compte</button></a>
  `;
}
else {
  authZone.innerHTML = `
    <span>${pseudo} | ${balance} €</span>
    <button id="logoutBtn">Déconnexion</button>
  `;

  document.getElementById("logoutBtn").onclick = ()=>{
    localStorage.clear();
    location.href="index.html";
  };
}


/* LOADER SAFE */
const loader = document.getElementById("loader");

setTimeout(()=> loader.style.display="none", 3000);

fetch("https://sulky-manager-backend.onrender.com/")
  .finally(()=> loader.style.display="none");

</script>

</body>
</html>
